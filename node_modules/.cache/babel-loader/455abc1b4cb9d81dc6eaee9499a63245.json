{"ast":null,"code":"import _slicedToArray from \"/Users/ashleighparsons/Desktop/wtfork/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/Users/ashleighparsons/Desktop/wtfork/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/ashleighparsons/Desktop/wtfork/src/App.js\";\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n  background-color: #f9dfe0;\\n  background-image: url(\", \");\\n  background-repeat: repeat;\\n  color: #3d8b7d;\\n  min-height: 100vh;\\n  padding: 1.5em;\\n  text-align: center;\\n  h1 {\\n    font-family: 'Ubuntu Condensed', sans-serif;\\n    font-size: 2.2em;\\n    padding: 0.4em 0;\\n  }\\n  h3 {\\n    font-size: 1.7em;\\n    text-transform: capitalize;\\n    font-family: 'Ubuntu Condensed', sans-serif;\\n  }\\n  img {\\n    height: 14em;\\n  }\\n  .loading {\\n    height: 10em;\\n  }\\n  form {\\n    padding: 1.5em 0;\\n    width: 8em;\\n    display: inline-table;\\n  }\\n  #foodPic {\\n    height: 14em;\\n    background-image: url(\", \");\\n    background-repeat: no-repeat;\\n    background-size: contain;\\n    background-position: center;\\n  }\\n  button {\\n    padding: 1.2em 1em;\\n    margin-top: 1em;\\n    background-color: #8fbc91;\\n    border: #8fbc91;\\n    width: 18em;\\n    border-radius: 3px;\\n  }\\n  input {\\n    width: 12.9em;\\n  }\\n  .btn {\\n    background-color: #8fbc91;\\n    border: #8fbc91;\\n    color: #3d8b7d; \\n    padding: 0.7em 1em;\\n    border-radius: 3px;\\n  }\\n  #foodInfo {\\n    .loader {\\n      height: 8em;\\n    }\\n  }\\n  #nutriPic {\\n    margin: 0 auto;\\n    max-height: 30em;\\n    width: 18em;\\n  }\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from 'react';\nimport './App.css';\nimport styled from \"styled-components\";\nimport Clarifai from \"clarifai\"; // import axios from \"axios\"\n\nimport Background from \"./background.png\";\nimport Placeholder from \"./placeholder.jpg\";\nconst WtfWrapper = styled.div(_templateObject(), Background, Placeholder);\n\nfunction App() {\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        selectedFile = _useState2[0],\n        setSelectedFile = _useState2[1];\n\n  const _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        nutriImage = _useState4[0],\n        setNutriImage = _useState4[1];\n\n  var myClarifaiApiKey = '62569dcb57b347df8031ed6a0a50bdee';\n  var myWolframAppId = 'RWU4HE-Q9UPPVXHQU';\n  var app = new Clarifai.App({\n    apiKey: myClarifaiApiKey\n  });\n\n  const fileSelected = e => {\n    setSelectedFile(URL.createObjectURL(e.target.files[0]));\n  };\n\n  const loadFood = (value, source) => {\n    var preview = document.getElementById('foodPic');\n    var file = document.querySelector(\"input[type=file]\").files[0];\n    var loader = \"https://media.giphy.com/media/5UG0A0ZV8APqnWYU0t/giphy.gif\";\n    var reader = new FileReader(); // load image\n\n    reader.addEventListener(\"load\", e => {\n      preview.style.backgroundImage = \"url(\" + selectedFile + \")\";\n      analyseFood({\n        base64: reader.result.split(\"base64,\")[1]\n      });\n    }, false);\n\n    if (file) {\n      reader.readAsDataURL(file);\n      document.getElementById('foodInfo').innerHTML = '<img src=\"' + loader + '\" className=\"loading\" />';\n    } else {\n      alert(\"No file selcted!\");\n    }\n  }; // get food name from Clarifai\n\n\n  const analyseFood = (value, result) => {\n    app.models.predict(Clarifai.FOOD_MODEL, value).then(function (response) {\n      if (response.rawData.outputs[0].data.hasOwnProperty(\"concepts\")) {\n        var infoShow = document.getElementById('nutriPic');\n        var tag = response.rawData.outputs[0].data.concepts[0].name; // link to Wolfram\n\n        var url = 'http://api.wolframalpha.com/v2/query?input=' + tag + '%20nutrition%20facts&appid=' + myWolframAppId; // document.getElementById('foodInfo').innerHTML = '<h3>'+ tag + '</h3>';\n        // post nutritional info\n\n        const getNutritionalInfo = (url, result => {\n          setNutriImage(url);\n          document.getElementById('foodInfo').innerHTML = '<h3>' + tag + '</h3> <img src=\"' + result + '\">';\n        });\n        getNutritionalInfo();\n        infoShow.style.backgroundImage = \"url(\" + url + \")\";\n      }\n    }, function (err) {\n      console.log(err);\n    });\n  };\n\n  return React.createElement(WtfWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, \"What The Fork?\"), React.createElement(\"div\", {\n    id: \"foodPic\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }), React.createElement(\"form\", {\n    action: \"#\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"btn btn-mdb-color btn-rounded float-left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"file\",\n    id: \"filename\",\n    placeholder: \"Filename\",\n    size: \"100\",\n    onChange: fileSelected,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    onClick: () => loadFood(document.getElementById('filename').value, 'file'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, \"What's on my Fork?\")), React.createElement(\"div\", {\n    id: \"foodInfo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, \"Your Food :\")), React.createElement(\"div\", {\n    id: \"nutriPic\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/ashleighparsons/Desktop/wtfork/src/App.js"],"names":["React","useState","styled","Clarifai","Background","Placeholder","WtfWrapper","div","App","selectedFile","setSelectedFile","nutriImage","setNutriImage","myClarifaiApiKey","myWolframAppId","app","apiKey","fileSelected","e","URL","createObjectURL","target","files","loadFood","value","source","preview","document","getElementById","file","querySelector","loader","reader","FileReader","addEventListener","style","backgroundImage","analyseFood","base64","result","split","readAsDataURL","innerHTML","alert","models","predict","FOOD_MODEL","then","response","rawData","outputs","data","hasOwnProperty","infoShow","tag","concepts","name","url","getNutritionalInfo","err","console","log"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport './App.css'\n\nimport styled from \"styled-components\"\nimport Clarifai from \"clarifai\"\n// import axios from \"axios\"\n\nimport Background from \"./background.png\"\nimport Placeholder from \"./placeholder.jpg\"\n\nconst WtfWrapper = styled.div`\n  background-color: #f9dfe0;\n  background-image: url(${Background});\n  background-repeat: repeat;\n  color: #3d8b7d;\n  min-height: 100vh;\n  padding: 1.5em;\n  text-align: center;\n  h1 {\n    font-family: 'Ubuntu Condensed', sans-serif;\n    font-size: 2.2em;\n    padding: 0.4em 0;\n  }\n  h3 {\n    font-size: 1.7em;\n    text-transform: capitalize;\n    font-family: 'Ubuntu Condensed', sans-serif;\n  }\n  img {\n    height: 14em;\n  }\n  .loading {\n    height: 10em;\n  }\n  form {\n    padding: 1.5em 0;\n    width: 8em;\n    display: inline-table;\n  }\n  #foodPic {\n    height: 14em;\n    background-image: url(${Placeholder});\n    background-repeat: no-repeat;\n    background-size: contain;\n    background-position: center;\n  }\n  button {\n    padding: 1.2em 1em;\n    margin-top: 1em;\n    background-color: #8fbc91;\n    border: #8fbc91;\n    width: 18em;\n    border-radius: 3px;\n  }\n  input {\n    width: 12.9em;\n  }\n  .btn {\n    background-color: #8fbc91;\n    border: #8fbc91;\n    color: #3d8b7d; \n    padding: 0.7em 1em;\n    border-radius: 3px;\n  }\n  #foodInfo {\n    .loader {\n      height: 8em;\n    }\n  }\n  #nutriPic {\n    margin: 0 auto;\n    max-height: 30em;\n    width: 18em;\n  }\n`\n\nfunction App() {\n  const [selectedFile, setSelectedFile] = useState(null)\n  const [nutriImage, setNutriImage] = useState(null)\n\n  var myClarifaiApiKey = '62569dcb57b347df8031ed6a0a50bdee';\n  var myWolframAppId = 'RWU4HE-Q9UPPVXHQU';\n\n  var app = new Clarifai.App({apiKey: myClarifaiApiKey});\n\n  const fileSelected = e => {\n    setSelectedFile(URL.createObjectURL(e.target.files[0]))\n  }\n\n  const loadFood = (value, source) => {\n    var preview = document.getElementById('foodPic');\n    var file    = document.querySelector(\"input[type=file]\").files[0];\n    var loader  = \"https://media.giphy.com/media/5UG0A0ZV8APqnWYU0t/giphy.gif\";\n    var reader  = new FileReader();\n\n    // load image\n    reader.addEventListener(\"load\", (e) => { \n      preview.style.backgroundImage = \"url(\" + selectedFile + \")\"\n      analyseFood({ \n        base64: reader.result.split(\"base64,\")[1] \n      });\n    }, false);\n\n    if (file) {\n      reader.readAsDataURL(file);\n      document.getElementById('foodInfo').innerHTML = '<img src=\"' + loader + '\" className=\"loading\" />';\n    } else { \n      alert(\"No file selcted!\"); \n    }\n  }\n\n  // get food name from Clarifai\n  const analyseFood = (value, result) => {\n    app.models.predict(Clarifai.FOOD_MODEL, value).then(function(response) {\n        if(response.rawData.outputs[0].data.hasOwnProperty(\"concepts\")) {\n          var infoShow = document.getElementById('nutriPic');\n          var tag = response.rawData.outputs[0].data.concepts[0].name;\n          // link to Wolfram\n          var url = 'http://api.wolframalpha.com/v2/query?input='+tag+'%20nutrition%20facts&appid='+myWolframAppId;\n          // document.getElementById('foodInfo').innerHTML = '<h3>'+ tag + '</h3>';\n\n          // post nutritional info\n          const getNutritionalInfo = (url, result => {\n            setNutriImage(url)\n\n            document.getElementById('foodInfo').innerHTML = '<h3>'+ tag + '</h3> <img src=\"' + result + '\">';\n          });\n\n          getNutritionalInfo()\n          infoShow.style.backgroundImage = \"url(\" + url + \")\"\n        }\n      }, function(err) { console.log(err); }\n    );\n  }\n\n  return (\n    <WtfWrapper>\n      <h1>What The Fork?</h1>\n\n      <div id=\"foodPic\" />\n\n      <form action=\"#\">\n          <div className=\"btn btn-mdb-color btn-rounded float-left\">\n            <input type=\"file\" id=\"filename\" placeholder=\"Filename\" size=\"100\" onChange={fileSelected} />\n          </div>\n        <button onClick={() => loadFood(document.getElementById('filename').value, 'file')}>What's on my Fork?</button>\n      </form>\n\n      <div id=\"foodInfo\">\n        <h3>Your Food :</h3>\n      </div>\n\n      <div id=\"nutriPic\" />\n    </WtfWrapper>\n  )\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}